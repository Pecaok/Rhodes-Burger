<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rhodes Burguers - Menú</title>
  <style>
    /* Fondo + overlay */
    body{
      margin:0; font-family:Arial, sans-serif; padding-top:70px;
      background:url('background.jpg') center/cover no-repeat fixed; position:relative;
    }
    body::after{content:""; position:fixed; inset:0; background:rgba(0,0,0,.35); z-index:-1;}

    /* Header */
    header{
      position:fixed; top:0; left:0; right:0; z-index:10;
      background:#333; color:#fff; padding:12px 20px;
      display:flex; align-items:center; gap:12px;
    }
    header h1{margin:0; font-size:20px;}
    header a{margin-left:auto; background:#28a745; color:#fff; text-decoration:none; padding:8px 14px; border-radius:8px;}

    /* Secciones */
    h2{text-align:center; color:#111;}
    .menu-section{
      margin:28px auto; max-width:920px; background:rgba(255,255,255,.95);
      border:2px solid #000; border-radius:10px; padding:18px 16px; box-shadow:0 6px 18px rgba(0,0,0,.15);
    }

    /* Tarjetas */
    .menu-item{
      display:grid; grid-template-columns:150px 1fr auto auto;
      gap:14px; align-items:center;
      background:#fff; border:2px solid #000; border-radius:10px; padding:12px; margin-bottom:12px;
    }
    .item-img{width:150px; height:110px; object-fit:cover; border-radius:8px; border:1px solid #ddd; background:#f6f6f6;}
    .item-details{min-width:0;}
    .item-title{font-weight:700; font-size:1.05rem; color:#111;}
    .item-desc{font-size:.9rem; color:#555;}
    .item-price{font-weight:700; min-width:100px; text-align:right;}
    .item-actions{display:flex; align-items:center; gap:8px;}
    input[type="number"]{width:70px; padding:6px; border:1px solid #aaa; border-radius:6px;}
    button{background:#333; color:#fff; border:none; padding:8px 12px; border-radius:6px; cursor:pointer;}
    button.remove{background:#c0392b;}

    /* Botón ver pedido (opcional, ya está el carrito) */
    a#go-to-pedido{
      display:block; text-align:center; background:#28a745; color:#fff; padding:12px;
      max-width:320px; margin: 18px auto 36px; text-decoration:none; border-radius:8px; border:2px solid #0f7a33;
    }

    /* Carrito */
    .cart{
      position:fixed; right:16px; bottom:16px; width:340px; max-height:70vh; overflow:auto;
      background:#fff; border:2px solid #000; border-radius:12px; box-shadow:0 12px 30px rgba(0,0,0,.35);
    }
    .cart header{
      position:sticky; top:0; background:#222; color:#fff; padding:10px 12px; border-top-left-radius:10px; border-top-right-radius:10px;
    }
    .cart header h3{margin:0; font-size:16px;}
    .cart .cart-body{padding:10px 12px;}
    .cart .empty{color:#666; font-size:.95rem; border:2px dashed #bbb; padding:12px; border-radius:8px; text-align:center; background:#fafafa;}
    .cart-item{
      display:flex; justify-content:space-between; align-items:center; gap:10px; padding:6px 0; border-bottom:1px dashed #ddd;
    }
    .cart-item:last-child{border-bottom:none;}
    .cart-item .name{font-weight:600;}
    .cart .total{font-weight:800; text-align:right; margin-top:10px;}
    .cart .actions{display:flex; gap:8px; margin-top:10px;}
    .cart .btn{flex:1; text-align:center; padding:10px; border-radius:8px; text-decoration:none;}
    .btn-primary{background:#28a745; color:#fff; border:2px solid #0f7a33;}
    .btn-secondary{background:#eee; color:#111; border:2px solid #bbb;}

    /* Responsive */
    @media (max-width: 740px){
      .menu-section{margin:18px 10px;}
      .menu-item{grid-template-columns:110px 1fr; grid-template-rows:auto auto auto;}
      .item-img{width:110px; height:90px;}
      .item-actions{grid-column:1 / -1; justify-self:end;}
      .item-price{justify-self:end;}
      .cart{left:10px; right:10px; width:auto;}
    }
  </style>
</head>
<body>
  <header>
    <h1>Rhodes Burguers</h1>
    <a href="contacto.html">Contacto</a>
  </header>

  <!-- Sección Hamburguesas -->
  <section class="menu-section" id="hamburguesas">
    <h2>Hamburguesas</h2>
    <!-- items desde JS -->
  </section>

  <!-- Sección Bebidas -->
  <section class="menu-section" id="bebidas">
    <h2>Bebidas</h2>
    <!-- items desde JS -->
  </section>

  <!-- Carrito -->
  <aside class="cart" id="cart">
    <header><h3>🛒 Carrito</h3></header>
    <div class="cart-body">
      <div id="cart-items" class="empty">Tu carrito está vacío</div>
      <div class="total" id="cart-total">Total: $0</div>
      <div class="actions">
        <button class="btn-secondary btn" id="vaciar">Vaciar</button>
        <a class="btn-primary btn" id="ir-pedido" href="pedido_cliente.html">Ver mi pedido</a>
      </div>
    </div>
  </aside>

  <script>
    /* ========= DATA ========= */
    const hamburguesas = [
      { nombre: "CheeseBurger Simple", desc: "Medallón con doble cheddar en pan brioche. Incluye papas fritas.", precio: 9500,  imagen: "img/cheeseburger simple.jpg" },
      { nombre: "CheeseBurger Doble",  desc: "Doble medallón con doble cheddar en pan brioche. Incluye papas fritas.",  precio: 12500, imagen: "img/cheeseburger doble.jpg" },
      { nombre: "CheeseBacon Simple",  desc: "Medallón con doble cheddar y bacon en pan brioche. Incluye papas fritas.", precio: 10500, imagen: "img/cheesebacon simple.jpg" },
      { nombre: "CheeseBacon Doble",   desc: "Doble medallón con doble cheddar y bacon en pan brioche. Incluye papas fritas.", precio: 13500, imagen: "img/cheesebacon doble.jpg" },
      { nombre: "Morgan Simple",        desc: "Doble cheddar, bacon, barbacoa y cebolla crispy. Incluye papas fritas.", precio: 10900, imagen: "img/Morgan Simple.jpg" },
      { nombre: "Morgan Doble",         desc: "Doble medallón, doble cheddar, bacon, barbacoa y cebolla crispy. Incluye papas fritas.", precio: 14500, imagen: "img/Morgan Doble.jpg" },
      { nombre: "Big John Simple",      desc: "Cheddar, lechuga, pepinillos y salsa big mac. Incluye papas fritas.", precio: 10900, imagen: "img/Big John Simple.jpg" },
      { nombre: "Big John Doble",       desc: "Doble medallón, cheddar, lechuga, pepinillos y salsa big mac. Incluye papas fritas.", precio: 13900, imagen: "img/Big John Doble.jpg" },
      { nombre: "Rhodes Simple",        desc: "Doble cheddar, bacon, morrones, cebolla y salsa crispy. Incluye papas fritas.", precio: 11900, imagen: "img/Rhodes Simple.jpg" },
      { nombre: "Rhodes Doble",         desc: "Doble medallón, cheddar, bacon, morrones, cebolla y salsa crispy. Incluye papas fritas.", precio: 14900, imagen: "img/Rhodes Doble.jpg" },
      { nombre: "Burguesa Simple",      desc: "Doble cheddar, mostaza y miel, cebolla caramelizada (pan Burgerluna). Incluye papas fritas.", precio: 11900, imagen: "img/Burguesa Simple.jpg" },
      { nombre: "Burguesa Doble",       desc: "Doble medallón, doble cheddar, mostaza y miel, cebolla caramelizada (pan Burgerluna). Incluye papas fritas.", precio: 14900, imagen: "img/Burguesa Doble.jpg" },
      { nombre: "Pollo Crispy",         desc: "Pechuga crispy con lechuga y mayo en pan brioche. Incluye papas fritas.", precio: 8900,  imagen: "img/Pollo crispy.jpg" }
    ];

    const bebidas = [
      { nombre: "Coca Cola Original 500cc", precio: 3000 },
      { nombre: "Coca Cola Zero 500cc",     precio: 3000 },
      { nombre: "Sprite 500cc",             precio: 3000 },
      { nombre: "Aquarius Pera 500cc",      precio: 3000 },
      { nombre: "Aquarius Pomelo 500cc",    precio: 3000 }
    ];

    /* ========= RENDER ========= */
    function renderItems(items, containerId) {
      const container = document.getElementById(containerId);
      container.innerHTML = "";
      items.forEach(({ nombre, desc, precio, imagen }) => {
        const div = document.createElement("div");
        div.className = "menu-item";

        const img = document.createElement(imagen ? "img" : "div");
        if (imagen) {
          img.src = imagen; img.alt = nombre; img.className = "item-img";
        } else {
          img.className = "item-img"; img.style.background="#f1f1f1";
        }
        div.appendChild(img);

        const details = document.createElement("div");
        details.className = "item-details";
        const title = document.createElement("div");
        title.className = "item-title";
        title.textContent = nombre;
        details.appendChild(title);
        if (desc) {
          const d = document.createElement("div");
          d.className = "item-desc";
          d.textContent = desc;
          details.appendChild(d);
        }
        div.appendChild(details);

        const price = document.createElement("div");
        price.className = "item-price";
        price.textContent = `$${precio}`;
        div.appendChild(price);

        const actions = document.createElement("div");
        actions.className = "item-actions";
        const qty = document.createElement("input");
        qty.type = "number"; qty.min = "1"; qty.value = "1";
        const btn = document.createElement("button");
        btn.textContent = "Añadir";
        btn.addEventListener("click", () => agregarAlCarrito(nombre, precio, desc || "", qty));
        actions.appendChild(qty);
        actions.appendChild(btn);
        div.appendChild(actions);

        container.appendChild(div);
      });
    }

    /* ========= CARRITO ========= */
    function getCart(){ return JSON.parse(localStorage.getItem("order") || "[]"); }
    function setCart(c){ localStorage.setItem("order", JSON.stringify(c)); }

    function agregarAlCarrito(nombre, precio, desc, qtyInput){
      const cantidad = Math.max(1, parseInt(qtyInput.value || "1", 10));
      const itemKey = desc ? `${nombre} - ${desc}` : nombre;
      const cart = getCart();
      const existente = cart.find(i => i.item === itemKey);
      if (existente) existente.quantity += cantidad;
      else cart.push({ item: itemKey, quantity: cantidad, price: precio });
      setCart(cart);
      qtyInput.value = 1;
      renderCart();
    }

    function quitarDelCarrito(index){
      const cart = getCart();
      cart.splice(index,1);
      setCart(cart);
      renderCart();
    }

    function vaciarCarrito(){
      setCart([]);
      renderCart();
    }

    function renderCart(){
      const list = document.getElementById("cart-items");
      const totalEl = document.getElementById("cart-total");
      const cart = getCart();

      if(!cart.length){
        list.className = "empty";
        list.textContent = "Tu carrito está vacío";
        totalEl.textContent = "Total: $0";
        return;
      }

      list.className = "";
      list.innerHTML = "";
      let total = 0;

      cart.forEach((i, idx) => {
        const li = document.createElement("div");
        li.className = "cart-item";
        const left = document.createElement("div");
        left.innerHTML = `<div class="name">${i.item}</div><div class="qty">x${i.quantity}</div>`;
        const right = document.createElement("div");
        const subtotal = (Number(i.price)||0) * (Number(i.quantity)||0);
        total += subtotal;
        right.innerHTML = `<div>$${subtotal}</div>`;
        const rm = document.createElement("button");
        rm.className = "remove";
        rm.textContent = "Quitar";
        rm.onclick = () => quitarDelCarrito(idx);
        li.appendChild(left);
        li.appendChild(right);
        li.appendChild(rm);
        list.appendChild(li);
      });

      totalEl.textContent = `Total: $${total}`;
    }

    /* ========= INIT ========= */
    renderItems(hamburguesas, "hamburguesas");
    renderItems(bebidas.map(b => ({...b, desc:"", imagen:null})), "bebidas");
    renderCart();

    // Botones carrito
    document.getElementById("vaciar").addEventListener("click", vaciarCarrito);
    document.getElementById("ir-pedido").addEventListener("click", () => {
      // ya está guardado en localStorage; sólo navegamos
    });
  </script>
</body>
</html>