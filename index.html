<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rhodes Burguers - Menú</title>
  <style>
    body {
      background-image: url('background.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      font-family: 'Arial', sans-serif;
      margin: 0;
      background-color: #f0f0f0;
      padding-top: 70px;
    }
    header {
      background-color: #333;
      color: white;
      position: fixed;
      width: 100%;
      top: 0;
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 10;
    }
    header h1 {
      margin: 0;
      font-size: 22px;
    }
    header a {
      margin-right: 0;
      margin-left: auto;
      transform: translateX(-30px);
      color: white;
      text-decoration: none;
      background: #28a745;
      padding: 8px 16px;
      border-radius: 6px;
    }
    h2 { text-align: center; }
    .menu-section { margin: 30px auto; max-width: 700px; }
    .menu-item {
      background-color: white;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .item-details { flex: 1; }
    .item-title { font-weight: bold; font-size: 1.1em; }
    .item-desc { font-size: 0.9em; color: #666; }
    .item-price { font-weight: bold; margin-left: 10px; min-width: 80px; }
    .item-actions { display: flex; align-items: center; gap: 8px; }
    input[type="number"] { width: 56px; }
    button {
      background-color: #333; color: white; border: none;
      padding: 8px 12px; border-radius: 5px; cursor: pointer;
    }
    a#go-to-pedido {
      display: inline-flex; align-items: center; gap: 8px;
      background: #28a745; color: white; padding: 12px 16px;
      border-radius: 6px; text-decoration: none;
      margin: 30px auto 24px; max-width: 340px; justify-content: center;
    }
    .badge {
      background:#fff; color:#28a745; font-weight:700;
      padding: 2px 8px; border-radius: 999px; min-width: 26px; text-align:center;
    }
    /* Toast arriba a la derecha */
    #toast { position: fixed; top: 16px; right: 16px; z-index: 9999; }
    .toast {
      background:#28a745; color:#fff; border:2px solid #0f7a33;
      padding:10px 14px; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,.25);
      margin-top:8px; opacity:0; transform: translateY(-6px);
      animation: tIn .2s ease forwards, tOut .3s ease 2.8s forwards;
    }
    @keyframes tIn { to { opacity:1; transform: translateY(0);} }
    @keyframes tOut { to { opacity:0; transform: translateY(-6px);} }
    .footer-actions { display:flex; justify-content:center; }
  </style>
</head>
<body>
  <header>
    <h1>Rhodes Burguers</h1>
    <a href="contacto.html">Contacto</a>
  </header>

  <section class="menu-section" id="hamburguesas">
    <h2>Hamburguesas</h2>
  </section>

  <section class="menu-section" id="bebidas">
    <h2>Bebidas</h2>
  </section>

  <div class="footer-actions">
    <a id="go-to-pedido" href="pedido_cliente.html">
      Ver mi pedido <span class="badge" id="cart-count">0</span>
    </a>
  </div>

  <!-- contenedor toast -->
  <div id="toast"></div>

  <script>
    const hamburguesas = [
      { nombre: "CheeseBurger Simple", desc: "Medallón con doble cheddar en pan brioche. Incluye papas fritas.", precio: 9500 },
      { nombre: "CheeseBurger Doble", desc: "Doble Medallón con doble cheddar en pan brioche. Incluye papas fritas.", precio: 12500 },
      { nombre: "CheeseBacon Simple", desc: "Medallón con doble cheddar y bacon en pan brioche. Incluye papas fritas.", precio: 10500 },
      { nombre: "CheeseBacon Doble", desc: "Doble Medallón con doble cheddar y bacon en pan brioche. Incluye papas fritas.", precio: 13500 },
      { nombre: "Morgan Simple", desc: "Medallón con doble cheddar, bacon, salsa barbacoa y cebolla crispy en pan brioche. Incluye papas fritas.", precio: 10900 },
      { nombre: "Morgan Doble", desc: "Doble Medallón con doble cheddar, bacon, salsa barbacoa y cebolla crispy en pan brioche. Incluye papas fritas.", precio: 14500 },
      { nombre: "Pollo Crispy", desc: "Pechuga de pollo crispy con lechuga y mayonesa en pan brioche. Incluye papas fritas.", precio: 8900 },
      { nombre: "Big John Simple", desc: "Medallón con cheddar, lechuga, pepinillos y salsa big mac en pan brioche. Incluye papas fritas.", precio: 10900 },
      { nombre: "Big John Doble", desc: "Doble Medallón con cheddar, lechuga, pepinillos y salsa big mac. Incluye papas fritas.", precio: 13900 },
      { nombre: "Rhodes Simple", desc: "Medallón con doble cheddar, bacon, morrones, cebolla y salsa crispy en pan brioche. Incluye papas fritas.", precio: 11900 },
      { nombre: "Rhodes Doble", desc: "Doble Medallón con doble cheddar, bacon, morrones, cebolla y salsa crispy. Incluye papas fritas.", precio: 14900 },
      { nombre: "Burguesa Simple", desc: "Medallón con doble cheddar, salsa mostaza y miel y cebolla caramelizada en pan Burgerluna. Incluye papas fritas.", precio: 11900 },
      { nombre: "Burguesa Doble", desc: "Doble Medallón con doble cheddar, salsa mostaza y miel y cebolla caramelizada en pan Burgerluna. Incluye papas fritas.", precio: 14900 }
    ];

    const bebidas = [
      { nombre: "Coca Cola Original", desc: "500cc", precio: 3000 },
      { nombre: "Coca Cola Zero", desc: "500cc", precio: 3000 },
      { nombre: "Sprite", desc: "500cc", precio: 3000 },
      { nombre: "Aquarius Pera", desc: "500cc", precio: 3000 },
      { nombre: "Aquarius Pomelo", desc: "500cc", precio: 3000 }
    ];

    function renderItems(items, containerId) {
      const container = document.getElementById(containerId);
      items.forEach(({ nombre, desc, precio }) => {
        const div = document.createElement("div");
        div.className = "menu-item";
        div.innerHTML =
          '<div class="item-details">' +
            '<div class="item-title">' + nombre + '</div>' +
            (desc ? '<div class="item-desc">' + desc + '</div>' : '') +
          '</div>' +
          '<div class="item-price">$' + precio + '</div>' +
          '<div class="item-actions">' +
            '<input type="number" class="item-quantity" value="1" min="1" />' +
            '<button onclick="agregarPedido(this, \'' + nombre.replace(/'/g,"\\'") + '\',' + precio + ', \'' + (desc || '').replace(/'/g,"\\'") + '\')">Añadir</button>' +
          '</div>';
        container.appendChild(div);
      });
    }

    function leerPedido() {
      return JSON.parse(localStorage.getItem("order") || "[]");
    }
    function guardarPedido(pedido) {
      localStorage.setItem("order", JSON.stringify(pedido));
      actualizarBadge();
    }
    function actualizarBadge() {
      const pedido = leerPedido();
      const count = pedido.reduce((acc, i) => acc + (Number(i.quantity) || 0), 0);
      const badge = document.getElementById("cart-count");
      if (badge) badge.textContent = count;
    }
    function toast(msg) {
      const host = document.getElementById("toast");
      const node = document.createElement("div");
      node.className = "toast";
      node.textContent = msg;
      host.appendChild(node);
      setTimeout(() => node.remove(), 3000);
    }

    function agregarPedido(btn, nombre, precio, desc) {
      const qtyInput = btn.parentElement.querySelector("input");
      const cantidad = Math.max(1, parseInt(qtyInput.value || "1", 10));

      const pedido = leerPedido();
      const key = desc ? (nombre + " - " + desc) : nombre;
      const existente = pedido.find(p => p.item === key);

      if (existente) {
        existente.quantity += cantidad;
      } else {
        pedido.push({ item: key, quantity: cantidad, price: precio });
      }

      guardarPedido(pedido);
      toast(cantidad + " x " + nombre + " añadido al pedido");
      qtyInput.value = 1;
    }

    // Render y estado inicial
    renderItems(hamburguesas, "hamburguesas");
    renderItems(bebidas, "bebidas");
    actualizarBadge();
  </script>
</body>
</html>
